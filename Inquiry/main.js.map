{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.routes.ts","webpack:///./src/app/chart/chart.component.css","webpack:///./src/app/chart/chart.component.html","webpack:///./src/app/chart/chart.component.ts","webpack:///./src/app/create/create.component.css","webpack:///./src/app/create/create.component.html","webpack:///./src/app/create/create.component.ts","webpack:///./src/app/flow/flow.component.css","webpack:///./src/app/flow/flow.component.html","webpack:///./src/app/flow/flow.component.ts","webpack:///./src/app/services/solr.service.ts","webpack:///./src/app/services/transformer.service.ts","webpack:///./src/app/view/view.component.html","webpack:///./src/app/view/view.component.scss","webpack:///./src/app/view/view.component.ts","webpack:///./src/app/view/view.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"input {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n.lbl {\\r\\n  color: rgba(0,0,0,.54);\\r\\n  /* -webkit-transform: translateY(-1.34375em) scale(.75);\\r\\n  transform: translateY(-1.34375em) scale(.75); */\\r\\n  /* transform: scale(.75); */\\r\\n  font-size: 12px;\\r\\n}\\r\\n\\r\\n.nav-link img {\\r\\n  height: 1.5rem;\\r\\n  margin-right: 9px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0NBQ2I7O0FBRUQ7RUFDRSx1QkFBdUI7RUFDdkI7a0RBQ2dEO0VBQ2hELDRCQUE0QjtFQUM1QixnQkFBZ0I7Q0FDakI7O0FBRUQ7RUFDRSxlQUFlO0VBQ2Ysa0JBQWtCO0NBQ25CIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpbnB1dCB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5sYmwge1xyXG4gIGNvbG9yOiByZ2JhKDAsMCwwLC41NCk7XHJcbiAgLyogLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEuMzQzNzVlbSkgc2NhbGUoLjc1KTtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEuMzQzNzVlbSkgc2NhbGUoLjc1KTsgKi9cclxuICAvKiB0cmFuc2Zvcm06IHNjYWxlKC43NSk7ICovXHJcbiAgZm9udC1zaXplOiAxMnB4O1xyXG59XHJcblxyXG4ubmF2LWxpbmsgaW1nIHtcclxuICBoZWlnaHQ6IDEuNXJlbTtcclxuICBtYXJnaW4tcmlnaHQ6IDlweDtcclxufSJdfQ== */\"","module.exports = \"<div class=\\\"main-container\\\">\\r\\n  <header class=\\\"header-6\\\">\\r\\n    <div class=\\\"branding\\\">\\r\\n        <a href=\\\"javascript:;\\\" class=\\\"nav-link\\\">\\r\\n            <img src=\\\"./assets/img/logo.png\\\" />\\r\\n            <span class=\\\"title\\\">Voyager Inquiry</span>\\r\\n        </a>\\r\\n    </div>\\r\\n    <div class=\\\"header-nav\\\">\\r\\n        <a routerLink=\\\"/view\\\" routerLinkActive=\\\"active\\\" class=\\\"nav-link\\\"><span class=\\\"nav-text\\\">View</span></a>\\r\\n        <a routerLink=\\\"/create\\\" routerLinkActive=\\\"active\\\" class=\\\"nav-link\\\"><span class=\\\"nav-text\\\">Create</span></a>\\r\\n        <a routerLink=\\\"/flow\\\" routerLinkActive=\\\"active\\\" class=\\\"nav-link\\\"><span class=\\\"nav-text\\\">Flow</span></a>\\r\\n        <!-- <a routerLink=\\\"/trending\\\" routerLinkActive=\\\"active\\\" class=\\\"nav-link\\\"><span class=\\\"nav-text\\\">Trending</span></a> -->\\r\\n    </div>\\r\\n    <div class=\\\"header-actions\\\">\\r\\n      <a (click)=\\\"settings.show = true\\\" href=\\\"javascript:;\\\" class=\\\"nav-link nav-icon\\\">\\r\\n          <clr-icon shape=\\\"cog\\\"></clr-icon>\\r\\n      </a>\\r\\n    </div>\\r\\n  </header>\\r\\n\\r\\n  <div class=\\\"content-container\\\">\\r\\n    <div class=\\\"content-area\\\">\\r\\n      <router-outlet class=\\\"clearfix\\\"></router-outlet>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<clr-modal [(clrModalOpen)]=\\\"settings.show\\\">\\r\\n  <h3 class=\\\"modal-title\\\">Settings</h3>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <div class=\\\"lbl\\\">\\r\\n      Voyager URL\\r\\n    </div>\\r\\n    <input autocomplete=\\\"off\\\" [(ngModel)]=\\\"settings.host\\\" type=\\\"text\\\" name=\\\"server\\\" placeholder=\\\"Voyager Server Url\\\">\\r\\n  </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-outline\\\" (click)=\\\"settings.show = false\\\">Cancel</button>\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"updateSettings()\\\">Ok</button>\\r\\n  </div>\\r\\n</clr-modal>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SolrService } from './services/solr.service';\r\n\r\n@Component({\r\n  selector: 'vi-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit {\r\n  title = 'Voyager Inquiry';\r\n  settings: any;\r\n\r\n  constructor(private solr: SolrService) {}\r\n\r\n  ngOnInit() {\r\n    const settings = this.fromStore('vi-settings');\r\n    if (settings !== undefined) {\r\n      this.settings = settings;\r\n      this.solr.settings = settings;\r\n    } else {\r\n      this.settings = this.solr.settings;\r\n    }\r\n  }\r\n\r\n  updateSettings() {\r\n    this.settings.show = false;\r\n    this.solr.settings = this.settings;\r\n    this.store('vi-settings', this.settings);\r\n  }\r\n\r\n  private store(key, value) {\r\n    window.localStorage.setItem(key, JSON.stringify(value));\r\n  }\r\n\r\n  private fromStore(key) {\r\n    const value = window.localStorage.getItem(key);\r\n    if (value !== null && value !== undefined) {\r\n      return JSON.parse(value);\r\n    } else {\r\n      return undefined;\r\n    }\r\n  }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { AppComponent } from './app.component';\r\nimport { ClarityModule } from '@clr/angular';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { NgxChartsModule } from '@swimlane/ngx-charts';\r\nimport { CreateComponent } from './create/create.component';\r\nimport { ViewComponent } from './view/view.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { appRoutes } from './app.routes';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { FlowComponent } from './flow/flow.component';\r\nimport { SolrService } from './services/solr.service';\r\nimport {DragDropModule} from '@angular/cdk/drag-drop';\r\nimport { ResizableModule } from 'angular-resizable-element';\r\nimport { ChartComponent } from './chart/chart.component';\r\nimport { Transformer } from './services/transformer.service';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    CreateComponent,\r\n    ViewComponent,\r\n    FlowComponent,\r\n    ChartComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    ClarityModule,\r\n    BrowserAnimationsModule,\r\n    HttpClientModule,\r\n    NgxChartsModule,\r\n    RouterModule.forRoot(appRoutes),\r\n    FormsModule,\r\n    DragDropModule,\r\n    ResizableModule\r\n  ],\r\n  providers: [SolrService, Transformer],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { RouterModule, Routes } from '@angular/router';\r\nimport { ViewComponent } from './view/view.component';\r\nimport { CreateComponent } from './create/create.component';\r\nimport { FlowComponent } from './flow/flow.component';\r\n\r\nexport const appRoutes: Routes = [\r\n  {\r\n    path: 'view',\r\n    component: ViewComponent\r\n  },\r\n  {\r\n    path: 'create',\r\n    component: CreateComponent,\r\n  },\r\n  {\r\n    path: 'flow',\r\n    component: FlowComponent,\r\n  },\r\n  {\r\n    path: '',\r\n    redirectTo: '/view',\r\n    pathMatch: 'full'\r\n  }\r\n];\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoYXJ0L2NoYXJ0LmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<ngx-charts-bar-vertical *ngIf=\\\"kind === 'bar'\\\"\\r\\n  [view]=\\\"view\\\"\\r\\n  [scheme]=\\\"colorScheme\\\"\\r\\n  [results]=\\\"data\\\"\\r\\n  [gradient]=\\\"gradient\\\"\\r\\n  [xAxis]=\\\"showXAxis\\\"\\r\\n  [yAxis]=\\\"showYAxis\\\"\\r\\n  [legend]=\\\"showLegend\\\"\\r\\n  [showXAxisLabel]=\\\"showXAxisLabel\\\"\\r\\n  [showYAxisLabel]=\\\"showYAxisLabel\\\"\\r\\n  [xAxisLabel]=\\\"xAxisLabel\\\"\\r\\n  [yAxisLabel]=\\\"yAxisLabel\\\"\\r\\n  (select)=\\\"onSelect($event)\\\">\\r\\n</ngx-charts-bar-vertical>\\r\\n\\r\\n<ngx-charts-line-chart *ngIf=\\\"kind === 'line'\\\"\\r\\n  [view]=\\\"view\\\"\\r\\n  [scheme]=\\\"'ocean'\\\"\\r\\n  [results]=\\\"data\\\"\\r\\n  [gradient]=\\\"gradient\\\"\\r\\n  [xAxis]=\\\"showXAxis\\\"\\r\\n  [yAxis]=\\\"showYAxis\\\"\\r\\n  [legend]=\\\"showLegend\\\"\\r\\n  [showXAxisLabel]=\\\"showXAxisLabel\\\"\\r\\n  [showYAxisLabel]=\\\"showYAxisLabel\\\"\\r\\n  [xAxisLabel]=\\\"xAxisLabel\\\"\\r\\n  [yAxisLabel]=\\\"yAxisLabel\\\"\\r\\n  [autoScale]=\\\"autoScale\\\"\\r\\n  (select)=\\\"onSelect($event)\\\">\\r\\n</ngx-charts-line-chart>\\r\\n\"","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'vi-chart',\r\n  templateUrl: './chart.component.html',\r\n  styleUrls: ['./chart.component.css']\r\n})\r\nexport class ChartComponent implements OnInit {\r\n\r\n  @Input()\r\n  data;\r\n\r\n  @Input()\r\n  xAxisLabel;\r\n\r\n  showXAxis = true;\r\n  showYAxis = true;\r\n  gradient = false;\r\n  showLegend = false;\r\n  showXAxisLabel = true;\r\n  showYAxisLabel = false;\r\n  yAxisLabel = '';\r\n  kind = 'bar';\r\n  selected: any = {};\r\n\r\n  colorScheme = 'air';\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    if (this.data.length > 0) {\r\n      if (this.data[0].series !== undefined) {\r\n        this.kind = 'line';\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n","module.exports = \".form-block {\\r\\n  margin: unset;\\r\\n}\\r\\n.form-group {\\r\\n  align-items: center;\\r\\n  /* justify-content: center; */\\r\\n  font-size: 18px;\\r\\n  padding-left: 0;\\r\\n  display: inline-block;\\r\\n  padding-right: 20px;\\r\\n}\\r\\n.form-group>label:first-child {\\r\\n  width: unset;\\r\\n}\\r\\n.action {\\r\\n  float: right;\\r\\n  padding-right: 0;\\r\\n}\\r\\nlabel {\\r\\n  position: unset !important;  \\r\\n  padding-right: 20px;\\r\\n}\\r\\nselect {\\r\\n  text-transform: capitalize;\\r\\n}\\r\\n.select {\\r\\n  display: inline-block;\\r\\n}\\r\\n.card-header {\\r\\n  text-transform: capitalize;\\r\\n}\\r\\n.card-text > div {\\r\\n  overflow: hidden;\\r\\n  text-overflow: ellipsis;\\r\\n}\\r\\n.chart {\\r\\n  width: 100%;\\r\\n  display: grid;\\r\\n  /* height: 400px; */\\r\\n  height: calc(100vh - 180px);\\r\\n}\\r\\n.form-group .btn-link {\\r\\n  padding-right: 0;\\r\\n  text-align: right;\\r\\n  margin-top: 0;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY3JlYXRlL2NyZWF0ZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBYztDQUNmO0FBQ0Q7RUFDRSxvQkFBb0I7RUFDcEIsOEJBQThCO0VBQzlCLGdCQUFnQjtFQUNoQixnQkFBZ0I7RUFDaEIsc0JBQXNCO0VBQ3RCLG9CQUFvQjtDQUNyQjtBQUNEO0VBQ0UsYUFBYTtDQUNkO0FBQ0Q7RUFDRSxhQUFhO0VBQ2IsaUJBQWlCO0NBQ2xCO0FBRUQ7RUFDRSwyQkFBMkI7RUFDM0Isb0JBQW9CO0NBQ3JCO0FBQ0Q7RUFDRSwyQkFBMkI7Q0FDNUI7QUFDRDtFQUNFLHNCQUFzQjtDQUN2QjtBQUVEO0VBQ0UsMkJBQTJCO0NBQzVCO0FBRUQ7RUFDRSxpQkFBaUI7RUFDakIsd0JBQXdCO0NBQ3pCO0FBRUQ7RUFDRSxZQUFZO0VBQ1osY0FBYztFQUNkLG9CQUFvQjtFQUNwQiw0QkFBNEI7Q0FDN0I7QUFFRDtFQUNFLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsY0FBYztDQUNmIiwiZmlsZSI6InNyYy9hcHAvY3JlYXRlL2NyZWF0ZS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZvcm0tYmxvY2sge1xyXG4gIG1hcmdpbjogdW5zZXQ7XHJcbn1cclxuLmZvcm0tZ3JvdXAge1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgLyoganVzdGlmeS1jb250ZW50OiBjZW50ZXI7ICovXHJcbiAgZm9udC1zaXplOiAxOHB4O1xyXG4gIHBhZGRpbmctbGVmdDogMDtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgcGFkZGluZy1yaWdodDogMjBweDtcclxufVxyXG4uZm9ybS1ncm91cD5sYWJlbDpmaXJzdC1jaGlsZCB7XHJcbiAgd2lkdGg6IHVuc2V0O1xyXG59XHJcbi5hY3Rpb24ge1xyXG4gIGZsb2F0OiByaWdodDtcclxuICBwYWRkaW5nLXJpZ2h0OiAwO1xyXG59XHJcblxyXG5sYWJlbCB7XHJcbiAgcG9zaXRpb246IHVuc2V0ICFpbXBvcnRhbnQ7ICBcclxuICBwYWRkaW5nLXJpZ2h0OiAyMHB4O1xyXG59XHJcbnNlbGVjdCB7XHJcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XHJcbn1cclxuLnNlbGVjdCB7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG59XHJcblxyXG4uY2FyZC1oZWFkZXIge1xyXG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xyXG59XHJcblxyXG4uY2FyZC10ZXh0ID4gZGl2IHtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG59XHJcblxyXG4uY2hhcnQge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGRpc3BsYXk6IGdyaWQ7XHJcbiAgLyogaGVpZ2h0OiA0MDBweDsgKi9cclxuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxODBweCk7XHJcbn1cclxuXHJcbi5mb3JtLWdyb3VwIC5idG4tbGluayB7XHJcbiAgcGFkZGluZy1yaWdodDogMDtcclxuICB0ZXh0LWFsaWduOiByaWdodDtcclxuICBtYXJnaW4tdG9wOiAwO1xyXG59Il19 */\"","module.exports = \"<clr-tabs>\\r\\n  <clr-tab>\\r\\n      <button clrTabLink>Events</button>\\r\\n      <clr-tab-content *clrIfActive>\\r\\n        <form>\\r\\n          <section class=\\\"form-block\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                  <label for=\\\"selects_1\\\">Choose an Event</label>\\r\\n                  <div class=\\\"select\\\" (change)=\\\"onBehaviorSelect($event)\\\">\\r\\n                      <select id=\\\"selects_1\\\">\\r\\n                          <option></option>\\r\\n                          <option *ngFor=\\\"let item of list\\\">{{item.name}}</option>\\r\\n                      </select>\\r\\n                  </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-group\\\" *ngIf=\\\"canGroup\\\">\\r\\n                  <label for=\\\"selects_1\\\">Group By</label>\\r\\n                  <div class=\\\"select\\\" (change)=\\\"onGroupSelect($event)\\\">\\r\\n                      <select id=\\\"selects_1\\\">\\r\\n                          <option></option>\\r\\n                          <option value=\\\"filters\\\">Filters</option>\\r\\n                          <option value=\\\"keywords\\\">Keywords</option>\\r\\n                          <option value=\\\"user\\\">User</option>\\r\\n                      </select>\\r\\n                  </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-group action\\\">\\r\\n                <a href=\\\"javascript:;\\\" class=\\\"btn btn-link\\\">\\r\\n                    <clr-icon shape=\\\"floppy\\\" size=\\\"36\\\"></clr-icon>\\r\\n                </a>\\r\\n              </div>\\r\\n          </section>\\r\\n        </form>\\r\\n        <div>\\r\\n            <div *ngIf=\\\"data.length > 0\\\" class=\\\"chart\\\">\\r\\n                <ngx-charts-bar-vertical\\r\\n                [view]=\\\"view\\\"\\r\\n                [scheme]=\\\"colorScheme\\\"\\r\\n                [results]=\\\"data\\\"\\r\\n                [gradient]=\\\"gradient\\\"\\r\\n                [xAxis]=\\\"showXAxis\\\"\\r\\n                [yAxis]=\\\"showYAxis\\\"\\r\\n                [legend]=\\\"showLegend\\\"\\r\\n                [showXAxisLabel]=\\\"showXAxisLabel\\\"\\r\\n                [showYAxisLabel]=\\\"showYAxisLabel\\\"\\r\\n                [xAxisLabel]=\\\"xAxisLabel\\\"\\r\\n                [yAxisLabel]=\\\"yAxisLabel\\\"\\r\\n                (select)=\\\"onSelect($event)\\\">\\r\\n              </ngx-charts-bar-vertical>\\r\\n            </div>\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-lg-4 col-md-6 col-sm-6 col-xs-12\\\" *ngFor=\\\"let event of events\\\">\\r\\n                    <div class=\\\"card\\\">\\r\\n                      <div class=\\\"card-header\\\">\\r\\n                          Event: <strong>{{event.action}}</strong>\\r\\n                      </div>\\r\\n                      <div class=\\\"card-block\\\">\\r\\n                          <!-- <div class=\\\"card-title\\\">\\r\\n                              Block\\r\\n                          </div> -->\\r\\n                          <div class=\\\"card-text\\\">\\r\\n                            <div *ngIf=\\\"event.action === 'saved-search'\\\">\\r\\n                              <div>\\r\\n                                <strong>Name:</strong> {{event.subject}}\\r\\n                              </div>\\r\\n                              <div>\\r\\n                                <strong>Action:</strong> {{event.metric}}\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div><strong>User:</strong> {{event.user}}</div> \\r\\n                            <div *ngIf=\\\"event.filters\\\">\\r\\n                              <strong>Filters:</strong> {{event.filters}}\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"event.keywords\\\">\\r\\n                              <strong>Keywords:</strong> {{event.keywords}}\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"event.time\\\">\\r\\n                              <strong>Performance:</strong> {{event.time}} milliseconds\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"event.size\\\">\\r\\n                              <strong>Records found:</strong> {{event.size}}\\r\\n                            </div>\\r\\n                            <div><strong>Timestamp:</strong> {{event.timestamp | date:'short'}}</div>\\r\\n                            <div><strong>Session:</strong> {{event.session}}</div>\\r\\n                          </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"card-footer\\\">\\r\\n                          <button class=\\\"btn btn-sm btn-link\\\">Details</button>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n      </clr-tab-content>\\r\\n  </clr-tab>\\r\\n\\r\\n  <clr-tab>\\r\\n      <button clrTabLink>Engagement</button>\\r\\n      <clr-tab-content *clrIfActive>\\r\\n          ...\\r\\n      </clr-tab-content>\\r\\n  </clr-tab>\\r\\n\\r\\n</clr-tabs>\\r\\n  \"","import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-create',\r\n  templateUrl: './create.component.html',\r\n  styleUrls: ['./create.component.css']\r\n})\r\nexport class CreateComponent implements OnInit {\r\n  title = 'behavior-ui';\r\n  list = [];\r\n  solr = 'http://voyagerdemo.com/daily/solr/analytics/select?q=*:*&wt=json&';\r\n  behavior;\r\n  group;\r\n  events = [];\r\n  data = [];\r\n  view: undefined;\r\n\r\n  // options\r\n  showXAxis = true;\r\n  showYAxis = true;\r\n  gradient = false;\r\n  showLegend = false;\r\n  showXAxisLabel = true;\r\n  xAxisLabel = 'Country';\r\n  showYAxisLabel = false;\r\n  yAxisLabel = 'Population';\r\n\r\n  colorScheme = {\r\n    domain: ['#5AA454', '#A10A28', '#C7B42C', '#AAAAAA']\r\n  };\r\n\r\n  canGroup = false;\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  ngOnInit() {\r\n    const url = this.solr + 'facet=true&facet.field=action&rows=0';\r\n    this.http.get<any>(url).subscribe(res => {\r\n      const behaviors = res.facet_counts.facet_fields.action;\r\n      let facet = false;\r\n      let obj = {name: '', count: 0};\r\n      for (const b of behaviors) {\r\n        facet = !facet;\r\n        if (facet) {\r\n          obj.name = b;\r\n        } else {\r\n          obj.count = b;\r\n          this.list.push(obj);\r\n          obj = {name: '', count: 0};\r\n        }\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  onBehaviorSelect($event) {\r\n    this.group = undefined;\r\n    this.behavior = $event.target.value;\r\n    this.canGroup = this.behavior === 'search';\r\n    const url = this.solr + 'fq=action:' + this.behavior + '&rows=100&sort=timestamp%20desc';\r\n    this.events = [];\r\n    this.data = [];\r\n    if (this.behavior === 'search') {\r\n      this.http.get<any>(url).subscribe(res => {\r\n        const events = res.response.docs;\r\n        // search events are duplicated\r\n        if (this.behavior === 'search') {\r\n          let e;\r\n          for (let i = 0; i < events.length; i++) {\r\n            if (!this.isEven(i)) {\r\n              const event = events[i];\r\n              e[event.metric] = event.body;\r\n              this.events.push(e);\r\n            } else {\r\n              // e = JSON.parse(JSON.stringify(event));\r\n              e = events[i];\r\n              e[e.metric] = e.body;\r\n              if (e.filters) {\r\n                e.filters = decodeURIComponent(e.filters);\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          this.events = events;\r\n        }\r\n      });\r\n    } else if (this.behavior === 'saved-search') {\r\n      this.onGroupSelect({target: {value: 'subject'}});\r\n    } else {\r\n      this.onGroupSelect({target: {value: 'subject'}});\r\n    }\r\n\r\n  }\r\n\r\n  onGroupSelect($event) {\r\n    this.group = $event.target.value;\r\n    this.xAxisLabel = this.group;\r\n    const url = this.solr + 'fq=action:' + this.behavior + '&rows=0&facet=true&facet.mincount=1&facet.limit=10&facet.field=' + this.group;\r\n    this.events = [];\r\n    this.data = [];\r\n    this.http.get<any>(url).subscribe(res => {\r\n      const facets = res.facet_counts.facet_fields[this.group];\r\n      // console.log(facets);\r\n      const facet = {name: '', value: ''};\r\n      for (let i = 0; i < facets.length; i++) {\r\n        if (this.isEven(i)) {\r\n          facet.name = decodeURIComponent(facets[i]);\r\n        } else {\r\n          facet.value = facets[i];\r\n          if (facet.name !== '{! place.op' && facet.name !== '*:*') {\r\n            if (facet.name.includes('}')) {\r\n              facet.name = facet.name.substring(facet.name.indexOf('}') + 1, facet.name.length);\r\n            }\r\n            this.data.push(JSON.parse(JSON.stringify(facet)));\r\n          }\r\n        }\r\n        if (i > 9) {\r\n          break;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  isEven(n) {\r\n    return n % 2 === 0;\r\n }\r\n}\r\n\r\n","module.exports = \".form-block {\\r\\n  margin: unset;\\r\\n}\\r\\n.form-group {\\r\\n  align-items: center;\\r\\n  /* justify-content: center; */\\r\\n  font-size: 18px;\\r\\n  padding-left: 0;\\r\\n  display: inline-block;\\r\\n  padding-right: 20px;\\r\\n}\\r\\n.form-group>label:first-child {\\r\\n  width: unset;\\r\\n}\\r\\n.action {\\r\\n  text-transform: uppercase;\\r\\n}\\r\\nlabel {\\r\\n  position: unset !important;  \\r\\n  padding-right: 20px;\\r\\n}\\r\\nselect {\\r\\n  text-transform: capitalize;\\r\\n}\\r\\n.select {\\r\\n  display: inline-block;\\r\\n}\\r\\nul {\\r\\n  padding-bottom: 10px;\\r\\n}\\r\\nli {\\r\\n  list-style: none;\\r\\n}\\r\\nli > span {\\r\\n  padding-left: 5px;\\r\\n  max-width: 500px;\\r\\n  white-space: nowrap;\\r\\n  overflow: hidden;\\r\\n  height: 25px;\\r\\n  line-height: 40px;\\r\\n}\\r\\nstrong {\\r\\n  text-transform: capitalize;\\r\\n}\\r\\nclr-icon[shape=child-arrow] {\\r\\n  margin-right: 5px;\\r\\n  margin-top: -5px;\\r\\n}\\r\\n.group {\\r\\n  background-color: lightgray;\\r\\n  padding-left: 5px;\\r\\n  font-weight: bold;\\r\\n  cursor: pointer;\\r\\n}\\r\\n.group > a {\\r\\n  float: right;\\r\\n  margin-right: 5px;\\r\\n}\\r\\n.group:hover {\\r\\n  background-color: darkgray;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZmxvdy9mbG93LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjO0NBQ2Y7QUFDRDtFQUNFLG9CQUFvQjtFQUNwQiw4QkFBOEI7RUFDOUIsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtFQUNoQixzQkFBc0I7RUFDdEIsb0JBQW9CO0NBQ3JCO0FBQ0Q7RUFDRSxhQUFhO0NBQ2Q7QUFDRDtFQUNFLDBCQUEwQjtDQUMzQjtBQUVEO0VBQ0UsMkJBQTJCO0VBQzNCLG9CQUFvQjtDQUNyQjtBQUNEO0VBQ0UsMkJBQTJCO0NBQzVCO0FBQ0Q7RUFDRSxzQkFBc0I7Q0FDdkI7QUFFRDtFQUNFLHFCQUFxQjtDQUN0QjtBQUNEO0VBQ0UsaUJBQWlCO0NBQ2xCO0FBQ0Q7RUFDRSxrQkFBa0I7RUFDbEIsaUJBQWlCO0VBQ2pCLG9CQUFvQjtFQUNwQixpQkFBaUI7RUFDakIsYUFBYTtFQUNiLGtCQUFrQjtDQUNuQjtBQUVEO0VBQ0UsMkJBQTJCO0NBQzVCO0FBRUQ7RUFDRSxrQkFBa0I7RUFDbEIsaUJBQWlCO0NBQ2xCO0FBRUQ7RUFDRSw0QkFBNEI7RUFDNUIsa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQixnQkFBZ0I7Q0FDakI7QUFDRDtFQUNFLGFBQWE7RUFDYixrQkFBa0I7Q0FDbkI7QUFDRDtFQUNFLDJCQUEyQjtDQUM1QiIsImZpbGUiOiJzcmMvYXBwL2Zsb3cvZmxvdy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZvcm0tYmxvY2sge1xyXG4gIG1hcmdpbjogdW5zZXQ7XHJcbn1cclxuLmZvcm0tZ3JvdXAge1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgLyoganVzdGlmeS1jb250ZW50OiBjZW50ZXI7ICovXHJcbiAgZm9udC1zaXplOiAxOHB4O1xyXG4gIHBhZGRpbmctbGVmdDogMDtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgcGFkZGluZy1yaWdodDogMjBweDtcclxufVxyXG4uZm9ybS1ncm91cD5sYWJlbDpmaXJzdC1jaGlsZCB7XHJcbiAgd2lkdGg6IHVuc2V0O1xyXG59XHJcbi5hY3Rpb24ge1xyXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbn1cclxuXHJcbmxhYmVsIHtcclxuICBwb3NpdGlvbjogdW5zZXQgIWltcG9ydGFudDsgIFxyXG4gIHBhZGRpbmctcmlnaHQ6IDIwcHg7XHJcbn1cclxuc2VsZWN0IHtcclxuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcclxufVxyXG4uc2VsZWN0IHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuXHJcbnVsIHtcclxuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcclxufVxyXG5saSB7XHJcbiAgbGlzdC1zdHlsZTogbm9uZTtcclxufVxyXG5saSA+IHNwYW4ge1xyXG4gIHBhZGRpbmctbGVmdDogNXB4O1xyXG4gIG1heC13aWR0aDogNTAwcHg7XHJcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIGhlaWdodDogMjVweDtcclxuICBsaW5lLWhlaWdodDogNDBweDtcclxufVxyXG5cclxuc3Ryb25nIHtcclxuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcclxufVxyXG5cclxuY2xyLWljb25bc2hhcGU9Y2hpbGQtYXJyb3ddIHtcclxuICBtYXJnaW4tcmlnaHQ6IDVweDtcclxuICBtYXJnaW4tdG9wOiAtNXB4O1xyXG59XHJcblxyXG4uZ3JvdXAge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JheTtcclxuICBwYWRkaW5nLWxlZnQ6IDVweDtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuLmdyb3VwID4gYSB7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIG1hcmdpbi1yaWdodDogNXB4O1xyXG59XHJcbi5ncm91cDpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogZGFya2dyYXk7XHJcbn0iXX0= */\"","module.exports = \"<form>\\r\\n  <section class=\\\"form-block\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n          <label for=\\\"selects_1\\\">Choose a User</label>\\r\\n          <div class=\\\"select\\\" (change)=\\\"onUserSelect($event)\\\">\\r\\n              <select id=\\\"selects_1\\\">\\r\\n                  <option></option>\\r\\n                  <option *ngFor=\\\"let item of list\\\">{{item.name}}</option>\\r\\n              </select>\\r\\n          </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-group\\\">\\r\\n          <label for=\\\"selects_1\\\">Date Range</label>\\r\\n          <input type=\\\"date\\\" [(clrDate)]=\\\"start\\\">\\r\\n          <input type=\\\"date\\\" [(clrDate)]=\\\"end\\\">\\r\\n      </div>\\r\\n  </section>\\r\\n  <section>\\r\\n    <div *ngFor=\\\"let g of events;\\\">\\r\\n      <div class=\\\"group\\\" (click)=\\\"g.show = !g.show\\\">\\r\\n          Date: {{g.date}}\\r\\n          <a href=\\\"javascript:;\\\"><clr-icon shape=\\\"caret down\\\"></clr-icon></a>\\r\\n      </div>\\r\\n      <ul *ngIf=\\\"g.show\\\">\\r\\n        <li *ngFor=\\\"let e of g.events; let i = index\\\" [ngStyle]=\\\"{'padding-left.px': e.padding}\\\">\\r\\n            <clr-icon shape=\\\"child-arrow\\\" [hidden]=\\\"i == 0\\\"></clr-icon>\\r\\n            <strong>Action:</strong> <span class=\\\"action\\\">{{e.action}}</span>\\r\\n            <span *ngIf=\\\"e.filters && e.filters.length > 0\\\">| <strong>Filters:</strong> {{e.filters}}</span>\\r\\n            <span *ngIf=\\\"e.keywords\\\">| <strong>Keywords:</strong> {{e.keywords}}</span>\\r\\n            <span *ngIf=\\\"e.place\\\">| <strong>Place:</strong> {{e.place}}</span>\\r\\n            <span *ngIf=\\\"e.sort\\\">| <strong>Sort:</strong> {{e.sort}}</span>\\r\\n            <span *ngIf=\\\"e.action === 'saved-search'\\\">| <strong>Name:</strong> {{e.subject}}</span>\\r\\n            <span *ngIf=\\\"e.action === 'saved-search'\\\">| <strong>Action:</strong> {{e.metric}}</span>\\r\\n            <span *ngIf=\\\"e.action !== 'saved-search' && e.action !== 'search'\\\">| <strong>Type:</strong> {{e.subject}}</span>\\r\\n            <span *ngIf=\\\"e.action !== 'saved-search' && e.action !== 'search'\\\">| Document: {{e.id}}</span>\\r\\n            <span> | <strong>Time:</strong> {{e.timestamp | date:'medium'}}</span>\\r\\n        </li>\\r\\n      </ul>\\r\\n    </div>\\r\\n  </section>\\r\\n</form>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-flow',\r\n  templateUrl: './flow.component.html',\r\n  styleUrls: ['./flow.component.css']\r\n})\r\nexport class FlowComponent implements OnInit {\r\n\r\n  list = [{name: 'admin'}];\r\n  solr = 'http://voyagerdemo.com/daily/solr/analytics/select?q=*:*&wt=json&';\r\n  events = [];\r\n  start: Date;\r\n  end: Date;\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  ngOnInit() {\r\n    this.start = new Date();\r\n    this.start.setDate(this.start.getDate() - 30);\r\n\r\n    this.end = new Date();\r\n  }\r\n\r\n  onUserSelect($event) {\r\n    const user = $event.target.value;\r\n    const dateRangeFilter = '&fq=timestamp:[' + this.start.toISOString() + ' TO ' + this.end.toISOString() + ']';\r\n    const url = this.solr + 'fq=user:' + user + '&rows=100&sort=timestamp%20asc' + dateRangeFilter;\r\n    this.http.get<any>(url).subscribe(res => {\r\n      const events = [];\r\n      let padding = 0;\r\n      let index = 0;\r\n      let lastEvent: any = {};\r\n      for (const e of res.response.docs) {\r\n        if (e.action === 'search-group' && events.length > 0) {\r\n          const lastSearchEvent = events[events.length - 1];\r\n          lastSearchEvent.group = e.metric;\r\n        } else if (e.action === 'search' && lastEvent.action === 'search') {\r\n          if (e.metric === 'size' && lastEvent.metric === 'time') {\r\n            const query = e.subject;\r\n            const json = this.queryStringToJSON(query);\r\n            e.place = json.place;\r\n            e.sort = json.sort;\r\n            padding += 5;\r\n            e.padding = padding;\r\n            if (e.filters) {\r\n              const filters: Array<any> = e.filters;\r\n              const idx = filters.findIndex(f => f === '{! place.op');\r\n              if (idx !== -1) {\r\n                e.filters.splice(idx, 1);\r\n              }\r\n              e.filters = decodeURIComponent(e.filters);\r\n              if (e.filters.includes('}')) {\r\n                e.filters = e.filters.substring(e.filters.indexOf('}') + 1, e.filters.length);\r\n              }\r\n            }\r\n            if (e.keywords) {\r\n              const keywords: Array<any> = e.keywords;\r\n              e.keywords = decodeURIComponent(e.keywords);\r\n            }\r\n            events.push(e);\r\n          }\r\n        } else if (e.action === 'saved-search') {\r\n          padding += 5;\r\n          e.padding = padding;\r\n          events.push(e);\r\n        } else if (e.action !== 'search' && e.action !== 'search-group' && e.action !== 'saved-search') {\r\n          padding += 5;\r\n          e.padding = padding;\r\n          events.push(e);\r\n        }\r\n        index++;\r\n        lastEvent = e;\r\n      }\r\n      this.events = events;\r\n      this.events = this.groupByDate(events);\r\n      console.log(events);\r\n      // search events are duplicated\r\n      // if (this.behavior === 'search') {\r\n      //   let e;\r\n      //   for (let i = 0; i < events.length; i++) {\r\n      //     if (!this.isEven(i)) {\r\n      //       const event = events[i];\r\n      //       e[event.metric] = event.body;\r\n      //       this.events.push(e);\r\n      //     } else {\r\n      //       // e = JSON.parse(JSON.stringify(event));\r\n      //       e = events[i];\r\n      //       e[e.metric] = e.body;\r\n      //       if (e.filters) {\r\n      //         e.filters = decodeURIComponent(e.filters);\r\n      //       }\r\n      //     }\r\n      //   }\r\n      // }\r\n    });\r\n  }\r\n\r\n  private groupByDate(events) {\r\n    const grouped = [];\r\n    let group = {date: '', events: [], show: true};\r\n    let padding = -5;\r\n    for (const e of events) {\r\n      const date = e.timestamp.split('T')[0];\r\n      if (group.date !== date) {\r\n        group = {date: date, events: [], show: true};\r\n        grouped.push(group);\r\n        padding = -5;\r\n      }\r\n      e.padding = padding += 5;\r\n      group.events.push(e);\r\n    }\r\n    return grouped;\r\n  }\r\n\r\n  queryStringToJSON(qs) {\r\n    if (qs.indexOf('?') > -1) {\r\n      qs = qs.split('?')[1];\r\n    }\r\n\r\n    const pairs = qs.split('&');\r\n    const result = {};\r\n    pairs.forEach(function(p) {\r\n      const pair = p.split('=');\r\n      let key = pair[0];\r\n      let value = decodeURIComponent(pair[1] || '');\r\n        if (p.includes('place:')) {\r\n          key = 'place';\r\n          value = decodeURIComponent(pair[2] || '');\r\n          value = value.replace('}', ' ');\r\n        }\r\n\r\n        if ( result[key] ) {\r\n            if ( Object.prototype.toString.call( result[key] ) === '[object Array]' ) {\r\n                result[key].push( value );\r\n            } else {\r\n                result[key] = [ result[key], value ];\r\n            }\r\n        } else {\r\n            result[key] = value;\r\n        }\r\n    });\r\n\r\n    return JSON.parse(JSON.stringify(result));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { pluck, share, shareReplay, tap, map, min } from 'rxjs/operators';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SolrService {\r\n\r\n  _settings = {host: 'http://voyagerdemo.com/daily', show: false};\r\n  change = new Subject();\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  fetchUnique(field, filters?) {\r\n    const jsonFacet: any = {\r\n      query : '*:*',\r\n      facet: {\r\n        value: 'unique(' + field + ')'\r\n      }\r\n    };\r\n    if (filters !== undefined) {\r\n      jsonFacet.filter = filters;\r\n    }\r\n    const solr = this.analyticsEndpoint;\r\n    return this.http.post<any>(solr, jsonFacet).pipe(\r\n      map(res => res.facets.value)\r\n    );\r\n  }\r\n\r\n  facet(field, mincount, limit, days?) {\r\n    const jsonFacet: any = {\r\n      query : '*:*',\r\n      facet: { items: {\r\n        type: 'terms',\r\n        field: field,\r\n        mincount: mincount,\r\n        limit: limit\r\n      }\r\n    }};\r\n    if (days !== undefined) {\r\n      jsonFacet.filter = ['timestamp:[NOW-' + days + 'DAY/DAY TO NOW]'];\r\n    }\r\n    return this.http.post<any>(this.analyticsEndpoint, jsonFacet).pipe(\r\n      map(res => res.facets.items.buckets)\r\n    );\r\n  }\r\n\r\n  fetchTimeSeries(mincount, start, unit, gap, filters) {\r\n    const units = unit + 'S';\r\n    const request = {\r\n      facet: {\r\n        items: {\r\n          type: 'range',\r\n          field: 'timestamp',\r\n          mincount: mincount,\r\n          start: 'NOW-' + start + units,\r\n          end: 'NOW',\r\n          gap: '+' + gap + unit,\r\n          // facet: {\r\n          //   items: {\r\n          //     type: 'terms',\r\n          //     field: field,\r\n          //     mincount: 1\r\n          //   }\r\n          // }\r\n        }\r\n      },\r\n      filter: filters,\r\n      query: '*:*'\r\n    };\r\n    return this.http.post<any>(this.analyticsEndpoint, request).pipe(\r\n      map(res => res.facets.items.buckets)\r\n    );\r\n  }\r\n\r\n  get settings() {\r\n    return this._settings;\r\n  }\r\n\r\n  set settings(settings) {\r\n    this._settings = settings;\r\n    this.change.next(settings);\r\n  }\r\n\r\n  get endpoint() {\r\n    let solr = this.settings.host;\r\n    if (!solr.endsWith('/')) {\r\n      solr += '/';\r\n    }\r\n    solr += 'solr/$index/select?q=*:*&wt=json&';\r\n    return solr;\r\n  }\r\n\r\n  get analyticsEndpoint() {\r\n    return this.endpoint.replace('$index', 'analytics');\r\n  }\r\n\r\n    // join analytics index to v0\r\n    // private join(data) {\r\n    //   const ids = data.map(d => d.name);\r\n    //   const fq = 'fq=id:(' + ids.join(' ') + ')';\r\n    //   const api = this.host.replace('$index', 'v0') + fq;\r\n    //   return this.http.get<any>(api).pipe(\r\n    //     map(r => {\r\n    //       // console.log(r.response.docs);\r\n    //       for (const item of data) {\r\n    //         item.doc = r.response.docs.find(d => d.id === item.name);\r\n    //         if (item.doc !== undefined) {\r\n    //           item.name = item.doc.title;\r\n    //         } else {\r\n    //           // item.name = 'Removed';\r\n    //           item.removed = true;\r\n    //         }\r\n    //       }\r\n    //       data = data.filter(d => !d.removed);\r\n    //       // this.data = data;\r\n    //       return data;\r\n    //     })\r\n    //   );\r\n    // }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class Transformer {\r\n  constructor() {}\r\n\r\n  public facetsToD3(results, formatter) {\r\n    const converted = [];\r\n    let formatted, value;\r\n    for (const item of results) {\r\n      formatted = formatter(item.val);\r\n      value = item.count;\r\n      converted.push({name: formatted, value: value, raw: item.val});\r\n    }\r\n    return converted;\r\n  }\r\n\r\n  public facetsToD3Series(results, field, options) {\r\n    const converted = [];\r\n    if (options.cumulative) {\r\n      const series = this.accumulateResults(results, options);\r\n      converted.push({name: field.toUpperCase(), series: series});\r\n      return converted;\r\n    }\r\n    converted.push({name: field.toUpperCase(), series: this.facetsToD3(results, this.formatDate)});\r\n    return converted;\r\n  }\r\n\r\n  public facetsToD3SeriesBySubfield(results, field, options, formatter, categoryFormatter) {\r\n    const converted = [], itemSeries = {};\r\n    const allCategories = this.populateSeries(itemSeries, results, options, formatter, categoryFormatter);\r\n\r\n    let series;\r\n    for (const key in itemSeries) {\r\n      if (true) {\r\n        series = itemSeries[key];\r\n        if (series && series.items.length < allCategories.length) {\r\n          this.fillMissingSeries(series.items, options, allCategories);\r\n        } else {\r\n          if (options.cumulative) {\r\n            this.accumulateSeries(series.items);\r\n          }\r\n        }\r\n        converted.push({name: formatter(key), series: series.items, count: series.total, raw: series.raw});\r\n      }\r\n    }\r\n    return converted;\r\n  }\r\n\r\n  private accumulateSeries(item) {\r\n    let count = 0;\r\n    for (const series of item) {\r\n      count += series.value;\r\n      series.value = count;\r\n    }\r\n  }\r\n\r\n  // the chart doesn't look right if all series don't have the same categories\r\n  private fillMissingSeries(series, options, allCategories) {\r\n    const seriesLookup = this.arrayToMap(series, 'name');\r\n    let index = 0, accumulatedValue = 0;\r\n    for (const cat of allCategories) {\r\n      if (seriesLookup[cat.name] === undefined) { // insert the missing category in the correct position\r\n        series.splice(index, 0, {name: cat.name, value: accumulatedValue});\r\n      } else {\r\n        if (options.cumulative) {\r\n          accumulatedValue += seriesLookup[cat.name].value;\r\n          seriesLookup[cat.name].value = accumulatedValue;\r\n        }\r\n      }\r\n      index++;\r\n    }\r\n  }\r\n\r\n  private populateSeries(itemMap, results, options, formatter, categoryFormatter) {\r\n    const seriesCategories = {}, allCategories = [];\r\n    let collection = results;\r\n    if (results.fields) {\r\n      collection = results.fields;\r\n    }\r\n    for (const item of collection) {\r\n\r\n      let parent = item.val;\r\n      if (typeof(item.val) !== 'number') {\r\n        const date = new Date(item.val);\r\n        if (date instanceof Date && !isNaN(date.valueOf())) {\r\n          parent = this.formatDate(item.val, options);\r\n        } else {\r\n          parent = categoryFormatter(item.val);\r\n        }\r\n      } else {\r\n        parent = categoryFormatter(item.val);\r\n      }\r\n\r\n      if (item.fields) {\r\n        for (const child of item.fields.buckets) {\r\n          const formattedVal = formatter(child.val);\r\n          let series = itemMap[formattedVal];\r\n          if (series === undefined) {\r\n            series = {items: [], total: 0, raw: child.val};\r\n          }\r\n          if (child.count > 0) {\r\n            const existing = series.items.findIndex(itm => {\r\n              return itm.name === parent;\r\n            });\r\n            if (existing === -1) {\r\n              series.total += child.count;\r\n              series.items.push({name: parent, value: child.count});\r\n            }\r\n          } else if (options.ignoreEmpty !== true) {\r\n            series.items.push({name: parent, value: child.count});\r\n          }\r\n          itemMap[formattedVal] = series;\r\n        }\r\n      }\r\n      seriesCategories[item.val] = parent;\r\n    }\r\n    for (const cat in seriesCategories) {\r\n      if (true) {\r\n        allCategories.push({val: cat, name: seriesCategories[cat]});\r\n      }\r\n    }\r\n    this.sort(allCategories, 'val');\r\n    return allCategories;\r\n  }\r\n\r\n  private accumulateResults(results, options) {\r\n      let count = results.count;\r\n      let formatted, value, total = 0;\r\n      for (const item of results.fields) {\r\n        total += item.count;\r\n      }\r\n      count = count - total;\r\n      const series = [];\r\n      for (const item of results.fields) {\r\n        value = item.count + count;\r\n        count = count + item.count;\r\n        formatted = this.formatDate(item.val, options);\r\n        series.push({name: formatted, value: value});\r\n      }\r\n      return series;\r\n  }\r\n\r\n  private formatDate(val, options) {\r\n    let d = val.split('T')[0];\r\n    d = d.split('-');\r\n    if (options && options.type === 'HOUR') {\r\n      let time = val.split('T')[1];\r\n      time = time.split('.')[0];\r\n      time = time.split(':');\r\n      time = time[0] + ':' + time[1];\r\n      return d[1] + '/' + d[2] + ' ' + time;\r\n    } else {\r\n      return d[1] + '/' + d[2] + '/' + d[0];\r\n    }\r\n  }\r\n\r\n  private sort(array, field) {\r\n    array.sort((a, b) => {\r\n      if (a[field] > b[field]) {\r\n        return 1;\r\n      }\r\n      if (a[field] < b[field]) {\r\n          return -1;\r\n      }\r\n      return 0;\r\n    });\r\n  }\r\n\r\n  private arrayToMap(array, key) {\r\n    const map = {};\r\n    let index = 0;\r\n    for (const item of array) {\r\n      item.index = index;\r\n      map[item[key]] = item;\r\n      index++;\r\n    }\r\n    return map;\r\n  }\r\n}\r\n","module.exports = \"<section class=\\\"dashboard-select\\\">\\r\\n  <clr-dropdown>\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-sm btn-link\\\" clrDropdownTrigger>\\r\\n      {{activeDashboard.name}}\\r\\n      <clr-icon shape=\\\"caret down\\\"></clr-icon>\\r\\n    </button>\\r\\n    <clr-dropdown-menu clrPosition=\\\"bottom-right\\\" *clrIfOpen>\\r\\n      <label class=\\\"dropdown-header\\\">Dashboards</label>\\r\\n      <button (click)=\\\"newDashboard()\\\" type=\\\"button\\\" clrDropdownItem>\\r\\n        <clr-icon shape=\\\"new\\\"></clr-icon>\\r\\n      </button>\\r\\n      <button (click)=\\\"selectDashboard(d)\\\" *ngFor=\\\"let d of dashboards\\\" type=\\\"button\\\" clrDropdownItem>\\r\\n        {{d.name}}\\r\\n        <clr-icon class=\\\"is-error\\\" *ngIf=\\\"d.name !== 'Default'\\\" (click)=\\\"removeDashboard(d)\\\" shape=\\\"times-circle\\\"></clr-icon>\\r\\n      </button>\\r\\n    </clr-dropdown-menu>\\r\\n  </clr-dropdown>\\r\\n</section>\\r\\n\\r\\n<form>\\r\\n\\r\\n  <!-- <div>\\r\\n      Return users : {{returnUsers}}\\r\\n  </div> -->\\r\\n\\r\\n  <section class=\\\"form-block\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n          <div class=\\\"col-xs-12\\\">\\r\\n            <div class=\\\"search-input\\\">\\r\\n                <input [(ngModel)]=\\\"choice\\\" type=\\\"text\\\" autocomplete=\\\"off\\\" placeholder=\\\"What do you want to see?\\\" (input)=\\\"onInput($event)\\\" name=\\\"input\\\" (focus)=\\\"focus($event)\\\">\\r\\n                <div class=\\\"choices\\\" *ngIf=\\\"showChoices\\\">\\r\\n                  <ul>\\r\\n                    <li *ngFor=\\\"let q of filtered\\\">\\r\\n                      <a href=\\\"javascript:;\\\" class=\\\"btn btn-link choice\\\" (click)=\\\"onSelect(q)\\\">{{q.name}}</a>\\r\\n                    </li>\\r\\n                  </ul>\\r\\n                </div>\\r\\n            </div>\\r\\n          </div>\\r\\n      </div>\\r\\n  </section>\\r\\n</form>\\r\\n\\r\\n<!-- dashboard items -->\\r\\n<div>\\r\\n  <!-- active chart -->\\r\\n  <div [ngStyle]=\\\"active.style\\\" (cdkDragReleased)=\\\"stop($event, active)\\\" class=\\\"chart-container active\\\" *ngIf=\\\"data.length > 0 && selectedQuery.aggregate === undefined\\\" cdkDrag>\\r\\n    <div class=\\\"actions\\\">\\r\\n      <span class=\\\"pin\\\">\\r\\n        <a href=\\\"javascript:;\\\" (click)=\\\"togglePin(active, $event)\\\">\\r\\n          <clr-icon shape=\\\"pin\\\" [class]=\\\"active.pin.class\\\"></clr-icon>\\r\\n        </a>\\r\\n      </span>\\r\\n      <span class=\\\"item-title\\\">\\r\\n        {{active.query.name}}\\r\\n      </span>\\r\\n      <div class=\\\"example-handle\\\" cdkDragHandle>\\r\\n        <clr-icon shape=\\\"drag-handle-corner\\\" dir=\\\"left\\\"></clr-icon>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"chart\\\" mwlResizable [enableGhostResize]=\\\"false\\\" [validateResize]=\\\"validate\\\" (resizeEnd)=\\\"onResizeEnd($event, active)\\\">\\r\\n      <vi-chart [data]=\\\"data\\\" [ngStyle]=\\\"{ 'width' : active.width, 'height' : active.height }\\\"></vi-chart>\\r\\n      <div class=\\\"resize-handle\\\" mwlResizeHandle [resizeEdges]=\\\"{bottom: true, right: true}\\\">\\r\\n        <clr-icon shape=\\\"resize right\\\"></clr-icon>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <!-- active card -->\\r\\n  <div [ngStyle]=\\\"active.style\\\" (cdkDragReleased)=\\\"stop($event, active)\\\" *ngIf=\\\"data.length > 0 && (selectedQuery.aggregate === 'count' || selectedQuery.aggregate === 'unique')\\\" class=\\\"card-container active\\\" cdkDrag>\\r\\n    <div class=\\\"actions\\\">\\r\\n      <span class=\\\"pin\\\">\\r\\n        <a href=\\\"javascript:;\\\" (click)=\\\"togglePin(active, $event)\\\">\\r\\n          <clr-icon shape=\\\"pin\\\" [class]=\\\"active.pin.class\\\"></clr-icon>\\r\\n        </a>\\r\\n      </span>\\r\\n      <span class=\\\"item-title\\\">\\r\\n        {{active.query.name}}\\r\\n      </span>\\r\\n      <div class=\\\"example-handle\\\" cdkDragHandle>\\r\\n        <clr-icon shape=\\\"drag-handle-corner\\\" dir=\\\"left\\\"></clr-icon>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"dashboard-card\\\" mwlResizable [enableGhostResize]=\\\"false\\\" [validateResize]=\\\"validate\\\" (resizeEnd)=\\\"onResizeEnd($event, active)\\\">\\r\\n      <div class=\\\"card-block\\\">\\r\\n        <div class=\\\"card-text\\\">\\r\\n          <span class=\\\"card-value\\\">\\r\\n            {{data[0].value}}\\r\\n          </span>\\r\\n          <span class=\\\"card-label\\\">\\r\\n            {{data[0].name}}\\r\\n          </span>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"resize-handle\\\" mwlResizeHandle [resizeEdges]=\\\"{bottom: true, right: true}\\\">\\r\\n        <clr-icon shape=\\\"resize right\\\"></clr-icon>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <!-- Pinned Items -->\\r\\n  <div (click)=\\\"activate(item)\\\" *ngFor=\\\"let item of items\\\" [ngStyle]=\\\"item.style\\\" (cdkDragReleased)=\\\"stop($event, item)\\\" class=\\\"chart-container\\\" [ngClass]=\\\"item.active\\\" cdkDrag>\\r\\n      <div class=\\\"actions\\\">\\r\\n        <span class=\\\"pin\\\">\\r\\n          <a href=\\\"javascript:;\\\" (click)=\\\"togglePin(item)\\\">\\r\\n            <clr-icon shape=\\\"pin\\\" [class]=\\\"item.pin.class\\\"></clr-icon>\\r\\n          </a>\\r\\n        </span>\\r\\n        <span class=\\\"item-title\\\">\\r\\n          {{item.query.name}}\\r\\n        </span>\\r\\n        <div class=\\\"example-handle\\\" cdkDragHandle>\\r\\n          <clr-icon shape=\\\"drag-handle-corner\\\" dir=\\\"left\\\"></clr-icon>\\r\\n        </div>\\r\\n      </div>\\r\\n      <!-- chart -->\\r\\n      <div *ngIf=\\\"item.query.aggregate === undefined && item.loaded\\\" class=\\\"chart\\\" mwlResizable [enableGhostResize]=\\\"false\\\" [validateResize]=\\\"validate\\\" (resizeEnd)=\\\"onResizeEnd($event, item)\\\">\\r\\n        <vi-chart [data]=\\\"item.data\\\" [ngStyle]=\\\"{ 'width' : item.width, 'height' : item.height }\\\"></vi-chart>\\r\\n        <div class=\\\"resize-handle\\\" mwlResizeHandle [resizeEdges]=\\\"{bottom: true, right: true}\\\">\\r\\n          <clr-icon shape=\\\"resize right\\\"></clr-icon>\\r\\n        </div>\\r\\n      </div>\\r\\n      <!-- card -->\\r\\n      <div [ngStyle]=\\\"{ 'width' : item.width, 'height' : item.height }\\\" *ngIf=\\\"(item.query.aggregate === 'count' || item.query.aggregate === 'unique') && item.loaded\\\" class=\\\"dashboard-card\\\" mwlResizable [enableGhostResize]=\\\"false\\\" [validateResize]=\\\"validate\\\" (resizeEnd)=\\\"onResizeEnd($event, item)\\\">\\r\\n        <div class=\\\"card-block\\\">\\r\\n          <div class=\\\"card-text\\\">\\r\\n            <span class=\\\"card-value\\\">\\r\\n              {{item.data[0].value}}\\r\\n            </span>\\r\\n            <span class=\\\"card-label\\\">\\r\\n              {{item.data[0].name}}\\r\\n            </span>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"resize-handle\\\" mwlResizeHandle [resizeEdges]=\\\"{bottom: true, right: true}\\\">\\r\\n          <clr-icon shape=\\\"resize right\\\"></clr-icon>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<clr-modal [(clrModalOpen)]=\\\"newModal.show\\\">\\r\\n  <h3 class=\\\"modal-title\\\">New Dashboard</h3>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <input autocomplete=\\\"off\\\" [(ngModel)]=\\\"newModal.name\\\" type=\\\"text\\\" name=\\\"dashboard\\\" placeholder=\\\"Dashboard Name\\\">\\r\\n  </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-outline\\\" (click)=\\\"newModal.show = false\\\">Cancel</button>\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"addDashboard()\\\">Ok</button>\\r\\n  </div>\\r\\n</clr-modal>\"","module.exports = \".dashboard-select {\\n  text-align: right; }\\n\\n:host ::ng-deep clr-dropdown .btn {\\n  margin-top: -2px; }\\n\\nclr-dropdown button {\\n  z-index: 998; }\\n\\nclr-dropdown-menu {\\n  min-width: 150px; }\\n\\nclr-icon[shape=new] {\\n  height: 26px;\\n  width: 26px;\\n  color: green; }\\n\\nclr-icon[shape=times-circle] {\\n  float: right;\\n  margin-top: 4px;\\n  margin-right: -10px; }\\n\\nform {\\n  margin-top: -40px; }\\n\\n.form-block {\\n  /* margin: unset; */ }\\n\\n.search-input {\\n  position: relative;\\n  display: inline-block; }\\n\\n.choices {\\n  position: absolute;\\n  font-size: 20px;\\n  text-align: left;\\n  width: 450px;\\n  background-color: white;\\n  z-index: 100;\\n  max-height: 400px;\\n  overflow: auto;\\n  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12); }\\n\\n.btn {\\n  font-size: 14px;\\n  max-width: unset; }\\n\\nli {\\n  list-style: none; }\\n\\ninput {\\n  width: 450px;\\n  /* text-align: center; */\\n  /* padding-left: 22px; */\\n  padding-bottom: 5px;\\n  border: 1px solid #ced4da;\\n  border-radius: 5px;\\n  padding-top: 5px;\\n  background-color: white !important;\\n  height: 40px;\\n  font-size: 20px;\\n  /* padding-left: 45px; */ }\\n\\ninput::-webkit-input-placeholder {\\n  text-align: center; }\\n\\ninput:-ms-input-placeholder {\\n  text-align: center; }\\n\\ninput::-ms-input-placeholder {\\n  text-align: center; }\\n\\ninput::placeholder {\\n  text-align: center; }\\n\\n.form-group {\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 20px;\\n  padding-left: 0;\\n  /* display: inline-block; */\\n  /* padding-right: 20px; */\\n  text-align: center; }\\n\\n.form-group > div:first-child {\\n  font-size: 24px;\\n  padding-bottom: 40px; }\\n\\n.form-group > label:first-child {\\n  width: unset; }\\n\\nlabel {\\n  position: unset !important;\\n  padding-right: 20px; }\\n\\nselect {\\n  text-transform: capitalize; }\\n\\n.select {\\n  /* display: inline-block; */ }\\n\\nvi-chart {\\n  overflow: hidden; }\\n\\n.card-header {\\n  text-transform: capitalize; }\\n\\n.card-text > div {\\n  overflow: hidden;\\n  text-overflow: ellipsis; }\\n\\n.chart-container, .card-container {\\n  /* position: relative; */\\n  /* position: fixed; */\\n  position: absolute;\\n  height: 400px;\\n  padding-bottom: 25px;\\n  background-color: white;\\n  /* transform: none !important; */\\n  box-shadow: 0 2px 1px -1px rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(1, 0, 0, 0.14), 0 1px 3px 0 rgba(0, 0, 0, 0.12);\\n  margin-bottom: 40px;\\n  width: 50%;\\n  left: 25%; }\\n\\n.chart-container:active {\\n  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12); }\\n\\n.chart-container.active {\\n  z-index: 1000;\\n  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12); }\\n\\n.card-container:active {\\n  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12); }\\n\\n.card-container.active {\\n  z-index: 1000;\\n  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12); }\\n\\n.chart {\\n  position: relative;\\n  width: 100%;\\n  display: grid;\\n  height: 100%;\\n  background-color: white;\\n  /* box-shadow: 0 2px 1px -1px rgba(0,0,0,.2), 0 1px 1px 0 rgba(0,0,0,.14), 0 1px 3px 0 rgba(0,0,0,.12); */ }\\n\\ng[ngx-charts-axis-label] {\\n  text-transform: capitalize; }\\n\\n.dashboard-card {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  height: 100%; }\\n\\n.card-value {\\n  display: block;\\n  font-size: 100px;\\n  text-align: center; }\\n\\n.card-label {\\n  display: block;\\n  font-size: 30px;\\n  margin-top: 40px;\\n  text-transform: capitalize;\\n  text-align: center; }\\n\\n.item-title {\\n  font-weight: 500; }\\n\\n.actions {\\n  text-align: center; }\\n\\n.pin {\\n  float: left; }\\n\\n.is-solid {\\n  -webkit-transform: rotate(-45deg);\\n          transform: rotate(-45deg); }\\n\\n.actions > span {\\n  /* display: block; */\\n  /* background-color: white; */\\n  /* width: 40px; */\\n  /* height: 20px; */\\n  /* display: inline-block; */\\n  /* box-shadow: 0 0px 1px -1px rgba(0,0,0,.2), 0 1px 1px 0 rgba(0,0,0,.14), 0 1px 1px 0 rgba(0,0,0,.12); */\\n  /* padding-bottom: 5px; */\\n  /* border: 1px solid lightgray; */\\n  /* border-bottom: none; */\\n  /* margin-right: -1px; */\\n  padding-left: 5px; }\\n\\nclr-icon[shape=pin] {\\n  /* padding-bottom: 5px; */\\n  margin-bottom: 5px;\\n  margin-right: 10px; }\\n\\nclr-icon[shape=drag-handle-corner] {\\n  margin-right: 4px;\\n  height: 24px;\\n  width: 24px;\\n  padding-bottom: 1px;\\n  color: gray; }\\n\\n.example-handle {\\n  /* position: absolute; */\\n  /* top: 10px; */\\n  right: 10px;\\n  color: #ccc;\\n  cursor: move;\\n  width: 24px;\\n  height: 24px;\\n  z-index: 1000;\\n  top: 30px;\\n  /* display: inline-block; */\\n  /* border: solid 1px lightgray; */\\n  border-bottom: none;\\n  background-color: white;\\n  /* width: 40px; */\\n  /* border-right: none; */\\n  /* margin-right: -1px; */\\n  float: right; }\\n\\n.chart:active {\\n  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12); }\\n\\nmwlResizable {\\n  box-sizing: border-box; }\\n\\n.resize-handle {\\n  position: absolute;\\n  bottom: 5px;\\n  right: 5px;\\n  cursor: se-resize; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlldy9DOlxcdm95YWdlclxcaW5zaWdodHMtdWkvc3JjXFxhcHBcXHZpZXdcXHZpZXcuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBaUIsRUFDbEI7O0FBRUQ7RUFHTSxpQkFBZ0IsRUFDakI7O0FBSUw7RUFFSSxhQUFZLEVBQ2I7O0FBR0g7RUFDRSxpQkFBZ0IsRUFDakI7O0FBRUQ7RUFDRSxhQUFZO0VBQ1osWUFBVztFQUNYLGFBQVksRUFDYjs7QUFFRDtFQUNFLGFBQVk7RUFDWixnQkFBZTtFQUNmLG9CQUFtQixFQUNwQjs7QUFFRDtFQUNFLGtCQUFpQixFQUNsQjs7QUFFRDtFQUNFLG9CQUFvQixFQUNyQjs7QUFDRDtFQUNFLG1CQUFrQjtFQUNsQixzQkFBcUIsRUFDdEI7O0FBQ0Q7RUFDRSxtQkFBa0I7RUFDbEIsZ0JBQWU7RUFDZixpQkFBZ0I7RUFDaEIsYUFBWTtFQUNaLHdCQUF1QjtFQUN2QixhQUFZO0VBQ1osa0JBQWlCO0VBQ2pCLGVBQWM7RUFDZCxzSEFFb0MsRUFDckM7O0FBQ0Q7RUFDRSxnQkFBZTtFQUNmLGlCQUFnQixFQUNqQjs7QUFDRDtFQUNFLGlCQUFnQixFQUNqQjs7QUFDRDtFQUNFLGFBQVk7RUFDWix5QkFBeUI7RUFDekIseUJBQXlCO0VBQ3pCLG9CQUFtQjtFQUNuQiwwQkFBeUI7RUFDekIsbUJBQWtCO0VBQ2xCLGlCQUFnQjtFQUNoQixtQ0FBa0M7RUFDbEMsYUFBWTtFQUNaLGdCQUFlO0VBQ2YseUJBQXlCLEVBQzFCOztBQUNEO0VBQ0UsbUJBQWtCLEVBQ25COztBQUZEO0VBQ0UsbUJBQWtCLEVBQ25COztBQUZEO0VBQ0UsbUJBQWtCLEVBQ25COztBQUZEO0VBQ0UsbUJBQWtCLEVBQ25COztBQUNEO0VBQ0Usb0JBQW1CO0VBQ25CLHdCQUF1QjtFQUN2QixnQkFBZTtFQUNmLGdCQUFlO0VBQ2YsNEJBQTRCO0VBQzVCLDBCQUEwQjtFQUMxQixtQkFBa0IsRUFDbkI7O0FBQ0Q7RUFDRSxnQkFBZTtFQUNmLHFCQUFvQixFQUNyQjs7QUFDRDtFQUNFLGFBQVksRUFDYjs7QUFDRDtFQUNFLDJCQUEwQjtFQUMxQixvQkFBbUIsRUFDcEI7O0FBQ0Q7RUFDRSwyQkFBMEIsRUFDM0I7O0FBQ0Q7RUFDRSw0QkFBNEIsRUFDN0I7O0FBRUQ7RUFDRSxpQkFBZ0IsRUFDakI7O0FBRUQ7RUFDRSwyQkFBMEIsRUFDM0I7O0FBRUQ7RUFDRSxpQkFBZ0I7RUFDaEIsd0JBQXVCLEVBQ3hCOztBQUVEO0VBQ0UseUJBQXlCO0VBQ3pCLHNCQUFzQjtFQUN0QixtQkFBa0I7RUFDbEIsY0FBYTtFQUNiLHFCQUFvQjtFQUNwQix3QkFBdUI7RUFDdkIsaUNBQWlDO0VBQ2pDLGdIQUFtRztFQUNuRyxvQkFBbUI7RUFFbkIsV0FBVTtFQUNWLFVBQVMsRUFDVjs7QUFFRDtFQUNFLHNIQUU0QyxFQUM3Qzs7QUFFRDtFQUNFLGNBQWE7RUFDYixzSEFFa0MsRUFDbkM7O0FBRUQ7RUFDRSxzSEFFNEMsRUFDN0M7O0FBRUQ7RUFDRSxjQUFhO0VBQ2Isc0hBRWtDLEVBQ25DOztBQUVEO0VBQ0UsbUJBQWtCO0VBQ2xCLFlBQVc7RUFDWCxjQUFhO0VBQ2IsYUFBWTtFQUNaLHdCQUF1QjtFQUN2QiwwR0FBMEcsRUFDM0c7O0FBRUQ7RUFDRSwyQkFBMEIsRUFDM0I7O0FBUUQ7RUFDRSxjQUFhO0VBQ2Isb0JBQW1CO0VBQ25CLHdCQUF1QjtFQUN2QixhQUFZLEVBQ2I7O0FBRUQ7RUFDRSxlQUFjO0VBQ2QsaUJBQWdCO0VBQ2hCLG1CQUFrQixFQUNuQjs7QUFFRDtFQUNFLGVBQWM7RUFDZCxnQkFBZTtFQUNmLGlCQUFnQjtFQUNoQiwyQkFBMEI7RUFDMUIsbUJBQWtCLEVBQ25COztBQUVEO0VBQ0UsaUJBQWdCLEVBQ2pCOztBQUVEO0VBQ0UsbUJBQWtCLEVBQ25COztBQUVEO0VBQ0UsWUFBVyxFQUNaOztBQUVEO0VBQ0Usa0NBQXlCO1VBQXpCLDBCQUF5QixFQUMxQjs7QUFFRDtFQUNNLHFCQUFxQjtFQUNyQiw4QkFBOEI7RUFDOUIsa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQiw0QkFBNEI7RUFDNUIsMEdBQTBHO0VBQzFHLDBCQUEwQjtFQUMxQixrQ0FBa0M7RUFDbEMsMEJBQTBCO0VBQzFCLHlCQUF5QjtFQUN6QixrQkFBaUIsRUFDdEI7O0FBRUQ7RUFDTSwwQkFBMEI7RUFDMUIsbUJBQWtCO0VBQ2xCLG1CQUFrQixFQUN2Qjs7QUFFRDtFQUNFLGtCQUFpQjtFQUNqQixhQUFZO0VBQ1osWUFBVztFQUNYLG9CQUFtQjtFQUNuQixZQUFXLEVBQ1o7O0FBRUQ7RUFDRSx5QkFBeUI7RUFDekIsZ0JBQWdCO0VBQ2hCLFlBQVc7RUFDWCxZQUFXO0VBQ1gsYUFBWTtFQUNaLFlBQVc7RUFDWCxhQUFZO0VBQ1osY0FBYTtFQUNiLFVBQVM7RUFDVCw0QkFBNEI7RUFFNUIsa0NBQWtDO0VBQ2xDLG9CQUFtQjtFQUNuQix3QkFBdUI7RUFDdkIsa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6Qix5QkFBeUI7RUFDekIsYUFBWSxFQUNiOztBQUVEO0VBQ0Usc0hBRThDLEVBQy9DOztBQUVEO0VBQ0UsdUJBQXNCLEVBQ3ZCOztBQUVEO0VBQ0UsbUJBQWtCO0VBQ2xCLFlBQVc7RUFDWCxXQUFVO0VBQ1Ysa0JBQWlCLEVBQ2xCIiwiZmlsZSI6InNyYy9hcHAvdmlldy92aWV3LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmRhc2hib2FyZC1zZWxlY3Qge1xyXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xyXG59XHJcblxyXG46aG9zdCB7XHJcbiAgOjpuZy1kZWVwIGNsci1kcm9wZG93biB7XHJcbiAgICAuYnRuIHtcclxuICAgICAgbWFyZ2luLXRvcDogLTJweDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmNsci1kcm9wZG93biB7XHJcbiAgYnV0dG9uIHtcclxuICAgIHotaW5kZXg6IDk5ODtcclxuICB9XHJcbn1cclxuXHJcbmNsci1kcm9wZG93bi1tZW51IHtcclxuICBtaW4td2lkdGg6IDE1MHB4O1xyXG59XHJcblxyXG5jbHItaWNvbltzaGFwZT1uZXddIHtcclxuICBoZWlnaHQ6IDI2cHg7XHJcbiAgd2lkdGg6IDI2cHg7XHJcbiAgY29sb3I6IGdyZWVuO1xyXG59XHJcblxyXG5jbHItaWNvbltzaGFwZT10aW1lcy1jaXJjbGVdIHtcclxuICBmbG9hdDogcmlnaHQ7XHJcbiAgbWFyZ2luLXRvcDogNHB4O1xyXG4gIG1hcmdpbi1yaWdodDogLTEwcHg7XHJcbn1cclxuXHJcbmZvcm0ge1xyXG4gIG1hcmdpbi10b3A6IC00MHB4O1xyXG59XHJcblxyXG4uZm9ybS1ibG9jayB7XHJcbiAgLyogbWFyZ2luOiB1bnNldDsgKi9cclxufVxyXG4uc2VhcmNoLWlucHV0IHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG59XHJcbi5jaG9pY2VzIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgZm9udC1zaXplOiAyMHB4O1xyXG4gIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgd2lkdGg6IDQ1MHB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gIHotaW5kZXg6IDEwMDtcclxuICBtYXgtaGVpZ2h0OiA0MDBweDtcclxuICBvdmVyZmxvdzogYXV0bztcclxuICBib3gtc2hhZG93OiAwIDVweCA1cHggLTNweCByZ2JhKDAsIDAsIDAsIDAuMiksXHJcbiAgICAwIDhweCAxMHB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMTQpLFxyXG4gICAgMCAzcHggMTRweCAycHggcmdiYSgwLCAwLCAwLCAwLjEyKTtcclxufVxyXG4uYnRuIHtcclxuICBmb250LXNpemU6IDE0cHg7XHJcbiAgbWF4LXdpZHRoOiB1bnNldDtcclxufVxyXG5saSB7XHJcbiAgbGlzdC1zdHlsZTogbm9uZTtcclxufVxyXG5pbnB1dCB7XHJcbiAgd2lkdGg6IDQ1MHB4O1xyXG4gIC8qIHRleHQtYWxpZ246IGNlbnRlcjsgKi9cclxuICAvKiBwYWRkaW5nLWxlZnQ6IDIycHg7ICovXHJcbiAgcGFkZGluZy1ib3R0b206IDVweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjY2VkNGRhO1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBwYWRkaW5nLXRvcDogNXB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XHJcbiAgaGVpZ2h0OiA0MHB4O1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxuICAvKiBwYWRkaW5nLWxlZnQ6IDQ1cHg7ICovXHJcbn1cclxuaW5wdXQ6OnBsYWNlaG9sZGVye1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG4uZm9ybS1ncm91cCB7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBmb250LXNpemU6IDIwcHg7XHJcbiAgcGFkZGluZy1sZWZ0OiAwO1xyXG4gIC8qIGRpc3BsYXk6IGlubGluZS1ibG9jazsgKi9cclxuICAvKiBwYWRkaW5nLXJpZ2h0OiAyMHB4OyAqL1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG4uZm9ybS1ncm91cCA+IGRpdjpmaXJzdC1jaGlsZCB7XHJcbiAgZm9udC1zaXplOiAyNHB4O1xyXG4gIHBhZGRpbmctYm90dG9tOiA0MHB4O1xyXG59XHJcbi5mb3JtLWdyb3VwPmxhYmVsOmZpcnN0LWNoaWxkIHtcclxuICB3aWR0aDogdW5zZXQ7XHJcbn1cclxubGFiZWwge1xyXG4gIHBvc2l0aW9uOiB1bnNldCAhaW1wb3J0YW50OyAgXHJcbiAgcGFkZGluZy1yaWdodDogMjBweDtcclxufVxyXG5zZWxlY3Qge1xyXG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xyXG59XHJcbi5zZWxlY3Qge1xyXG4gIC8qIGRpc3BsYXk6IGlubGluZS1ibG9jazsgKi9cclxufVxyXG5cclxudmktY2hhcnQge1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbi5jYXJkLWhlYWRlciB7XHJcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XHJcbn1cclxuXHJcbi5jYXJkLXRleHQgPiBkaXYge1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcbn1cclxuXHJcbi5jaGFydC1jb250YWluZXIsIC5jYXJkLWNvbnRhaW5lciB7XHJcbiAgLyogcG9zaXRpb246IHJlbGF0aXZlOyAqL1xyXG4gIC8qIHBvc2l0aW9uOiBmaXhlZDsgKi9cclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgaGVpZ2h0OiA0MDBweDtcclxuICBwYWRkaW5nLWJvdHRvbTogMjVweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAvKiB0cmFuc2Zvcm06IG5vbmUgIWltcG9ydGFudDsgKi9cclxuICBib3gtc2hhZG93OiAwIDJweCAxcHggLTFweCByZ2JhKDAsMCwwLC4yKSwgMCAxcHggMXB4IDAgcmdiYSgxLDAsMCwuMTQpLCAwIDFweCAzcHggMCByZ2JhKDAsMCwwLC4xMik7XHJcbiAgbWFyZ2luLWJvdHRvbTogNDBweDsgIFxyXG5cclxuICB3aWR0aDogNTAlO1xyXG4gIGxlZnQ6IDI1JTtcclxufVxyXG5cclxuLmNoYXJ0LWNvbnRhaW5lcjphY3RpdmUge1xyXG4gIGJveC1zaGFkb3c6IDAgNXB4IDVweCAtM3B4IHJnYmEoMCwgMCwgMCwgMC4yKSxcclxuICAgICAgICAgICAgMCA4cHggMTBweCAxcHggcmdiYSgwLCAwLCAwLCAwLjE0KSxcclxuICAgICAgICAgICAgMCAzcHggMTRweCAycHggcmdiYSgwLCAwLCAwLCAwLjEyKTtcclxufVxyXG5cclxuLmNoYXJ0LWNvbnRhaW5lci5hY3RpdmUge1xyXG4gIHotaW5kZXg6IDEwMDA7XHJcbiAgYm94LXNoYWRvdzogMCA1cHggNXB4IC0zcHggcmdiYSgwLCAwLCAwLCAwLjIpLFxyXG4gIDAgOHB4IDEwcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4xNCksXHJcbiAgMCAzcHggMTRweCAycHggcmdiYSgwLCAwLCAwLCAwLjEyKTtcclxufVxyXG5cclxuLmNhcmQtY29udGFpbmVyOmFjdGl2ZSB7XHJcbiAgYm94LXNoYWRvdzogMCA1cHggNXB4IC0zcHggcmdiYSgwLCAwLCAwLCAwLjIpLFxyXG4gICAgICAgICAgICAwIDhweCAxMHB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMTQpLFxyXG4gICAgICAgICAgICAwIDNweCAxNHB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xyXG59XHJcblxyXG4uY2FyZC1jb250YWluZXIuYWN0aXZlIHtcclxuICB6LWluZGV4OiAxMDAwO1xyXG4gIGJveC1zaGFkb3c6IDAgNXB4IDVweCAtM3B4IHJnYmEoMCwgMCwgMCwgMC4yKSxcclxuICAwIDhweCAxMHB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMTQpLFxyXG4gIDAgM3B4IDE0cHggMnB4IHJnYmEoMCwgMCwgMCwgMC4xMik7XHJcbn1cclxuXHJcbi5jaGFydCB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGRpc3BsYXk6IGdyaWQ7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gIC8qIGJveC1zaGFkb3c6IDAgMnB4IDFweCAtMXB4IHJnYmEoMCwwLDAsLjIpLCAwIDFweCAxcHggMCByZ2JhKDAsMCwwLC4xNCksIDAgMXB4IDNweCAwIHJnYmEoMCwwLDAsLjEyKTsgKi9cclxufVxyXG5cclxuZ1tuZ3gtY2hhcnRzLWF4aXMtbGFiZWxdIHtcclxuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcclxufVxyXG5cclxuLy8gLmNhcmQtY29udGFpbmVyIHtcclxuLy8gICBkaXNwbGF5OiBmbGV4O1xyXG4vLyAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbi8vICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbi8vIH1cclxuXHJcbi5kYXNoYm9hcmQtY2FyZCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLmNhcmQtdmFsdWUge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIGZvbnQtc2l6ZTogMTAwcHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uY2FyZC1sYWJlbCB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgZm9udC1zaXplOiAzMHB4O1xyXG4gIG1hcmdpbi10b3A6IDQwcHg7XHJcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uaXRlbS10aXRsZSB7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuLmFjdGlvbnMge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnBpbiB7XHJcbiAgZmxvYXQ6IGxlZnQ7XHJcbn1cclxuXHJcbi5pcy1zb2xpZCB7XHJcbiAgdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcclxufVxyXG5cclxuLmFjdGlvbnMgPiBzcGFuIHtcclxuICAgICAgLyogZGlzcGxheTogYmxvY2s7ICovXHJcbiAgICAgIC8qIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOyAqL1xyXG4gICAgICAvKiB3aWR0aDogNDBweDsgKi9cclxuICAgICAgLyogaGVpZ2h0OiAyMHB4OyAqL1xyXG4gICAgICAvKiBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7ICovXHJcbiAgICAgIC8qIGJveC1zaGFkb3c6IDAgMHB4IDFweCAtMXB4IHJnYmEoMCwwLDAsLjIpLCAwIDFweCAxcHggMCByZ2JhKDAsMCwwLC4xNCksIDAgMXB4IDFweCAwIHJnYmEoMCwwLDAsLjEyKTsgKi9cclxuICAgICAgLyogcGFkZGluZy1ib3R0b206IDVweDsgKi9cclxuICAgICAgLyogYm9yZGVyOiAxcHggc29saWQgbGlnaHRncmF5OyAqL1xyXG4gICAgICAvKiBib3JkZXItYm90dG9tOiBub25lOyAqL1xyXG4gICAgICAvKiBtYXJnaW4tcmlnaHQ6IC0xcHg7ICovXHJcbiAgICAgIHBhZGRpbmctbGVmdDogNXB4O1xyXG59XHJcblxyXG5jbHItaWNvbltzaGFwZT1waW5dIHtcclxuICAgICAgLyogcGFkZGluZy1ib3R0b206IDVweDsgKi9cclxuICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbn1cclxuXHJcbmNsci1pY29uW3NoYXBlPWRyYWctaGFuZGxlLWNvcm5lcl0ge1xyXG4gIG1hcmdpbi1yaWdodDogNHB4O1xyXG4gIGhlaWdodDogMjRweDtcclxuICB3aWR0aDogMjRweDtcclxuICBwYWRkaW5nLWJvdHRvbTogMXB4O1xyXG4gIGNvbG9yOiBncmF5O1xyXG59XHJcblxyXG4uZXhhbXBsZS1oYW5kbGUge1xyXG4gIC8qIHBvc2l0aW9uOiBhYnNvbHV0ZTsgKi9cclxuICAvKiB0b3A6IDEwcHg7ICovXHJcbiAgcmlnaHQ6IDEwcHg7XHJcbiAgY29sb3I6ICNjY2M7XHJcbiAgY3Vyc29yOiBtb3ZlO1xyXG4gIHdpZHRoOiAyNHB4O1xyXG4gIGhlaWdodDogMjRweDtcclxuICB6LWluZGV4OiAxMDAwO1xyXG4gIHRvcDogMzBweDtcclxuICAvKiBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7ICovXHJcblxyXG4gIC8qIGJvcmRlcjogc29saWQgMXB4IGxpZ2h0Z3JheTsgKi9cclxuICBib3JkZXItYm90dG9tOiBub25lO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gIC8qIHdpZHRoOiA0MHB4OyAqL1xyXG4gIC8qIGJvcmRlci1yaWdodDogbm9uZTsgKi9cclxuICAvKiBtYXJnaW4tcmlnaHQ6IC0xcHg7ICovXHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG59XHJcblxyXG4uY2hhcnQ6YWN0aXZlIHtcclxuICBib3gtc2hhZG93OiAwIDVweCA1cHggLTNweCByZ2JhKDAsIDAsIDAsIDAuMiksXHJcbiAgICAgICAgICAgICAgMCA4cHggMTBweCAxcHggcmdiYSgwLCAwLCAwLCAwLjE0KSxcclxuICAgICAgICAgICAgICAwIDNweCAxNHB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xyXG59XHJcblxyXG5td2xSZXNpemFibGUge1xyXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuXHJcbi5yZXNpemUtaGFuZGxlIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgYm90dG9tOiA1cHg7XHJcbiAgcmlnaHQ6IDVweDtcclxuICBjdXJzb3I6IHNlLXJlc2l6ZTtcclxufSJdfQ== */\"","import { Component, OnInit, HostListener } from '@angular/core';\r\nimport { ChangeDetectorRef } from '@angular/core';\r\nimport { ResizeEvent } from 'angular-resizable-element';\r\nimport { ViewService } from './view.service';\r\n\r\n@Component({\r\n  selector: 'vi-view',\r\n  templateUrl: './view.component.html',\r\n  styleUrls: ['./view.component.scss']\r\n})\r\nexport class ViewComponent implements OnInit {\r\n\r\n  data: any = [];\r\n  view: undefined;\r\n  queries = [];\r\n  filtered = [];\r\n  choice = '';\r\n  selectedQuery: any = {};\r\n  showChoices = false;\r\n  style: any = {};\r\n  items = [];\r\n  active: any = {pin: {on: false, style: '', class: ''}, query: {}};\r\n  dashboards = [{name: 'Default', items: [], selected: true}];\r\n  activeDashboard;\r\n  newModal = {show: false, name: ''};\r\n  resizing = false;\r\n\r\n  constructor(private viewService: ViewService, private ref: ChangeDetectorRef) {}\r\n\r\n  ngOnInit() {\r\n    this.activeDashboard = this.dashboards[0];\r\n    this.viewService.fetchQueries().subscribe(queries => {\r\n      this.queries = queries;\r\n      this.filtered = queries;\r\n    });\r\n\r\n    const dashboards = this.fromStore('vi-dashboards');\r\n    if (dashboards !== undefined) {\r\n      this.dashboards = dashboards;\r\n      this.activeDashboard = dashboards.find(d => d.selected);\r\n      this.items = this.activeDashboard.items;\r\n      this.loadDashboard(this.activeDashboard);\r\n    }\r\n\r\n    this.viewService.change().subscribe(c => {\r\n      this.loadDashboard(this.activeDashboard);\r\n    });\r\n    // this.user.fetchUsers(4, -1, 30).subscribe(users => {\r\n    //   // console.log(users);\r\n    //   this.returnUsers = users.length;\r\n    // });\r\n\r\n  }\r\n\r\n  private loadDashboard(dashboard) {\r\n    for (const item of dashboard.items) {\r\n      this.viewService.fetch(item.query).subscribe(data => {\r\n        item.active = false;\r\n        item.data = data;\r\n        item.loaded = true;\r\n        item.error = false;\r\n      }, err => {\r\n        item.loaded = false;\r\n        item.error = true;\r\n      });\r\n    }\r\n  }\r\n\r\n  activate(item) {\r\n    for (const i of this.items) {\r\n      i.active = '';\r\n    }\r\n    setTimeout(() => {\r\n      item.active = 'active';\r\n    }, 0);\r\n  }\r\n\r\n  togglePin(item, $event) {\r\n    item.pin.on = !item.pin.on;\r\n    item.pin.class = item.pin.on ? 'is-solid' : '';\r\n\r\n    if (item.pin.on) {\r\n      this.items.push(item);\r\n      const style = $event.target.parentElement.parentElement.parentElement.parentElement.style;\r\n      // console.log(style.transform);\r\n      if (item.style !== undefined) {\r\n        item.style.transform = style.transform;\r\n      }\r\n      this.clearActive();\r\n      this.choice = '';\r\n\r\n      for (const i of this.items) {\r\n        if (i.style !== undefined) {\r\n          delete i.style.opacity;\r\n        }\r\n      }\r\n    } else {\r\n      this.items = this.items.filter(i => i.query.name !== item.query.name);\r\n    }\r\n    const activeDashboard = this.dashboards.find(d => d.selected);\r\n    activeDashboard.items = this.items;\r\n\r\n    this.store('vi-dashboards', this.dashboards);\r\n  }\r\n\r\n  selectDashboard(dashboard) {\r\n    this.loadDashboard(dashboard);\r\n    this.activeDashboard = dashboard;\r\n    this.items = dashboard.items;\r\n    for (const d of this.dashboards) {\r\n      d.selected = false;\r\n    }\r\n    dashboard.selected = true;\r\n    this.store('vi-dashboards', this.dashboards);\r\n  }\r\n\r\n  newDashboard() {\r\n    this.newModal.show = true;\r\n  }\r\n\r\n  addDashboard() {\r\n    for (const d of this.dashboards) {\r\n      d.selected = false;\r\n    }\r\n    const dashboard = {name: this.newModal.name, selected: true, items: []};\r\n    this.items = dashboard.items;\r\n    this.dashboards.push(dashboard);\r\n    this.activeDashboard = dashboard;\r\n    this.newModal.show = false;\r\n  }\r\n\r\n  removeDashboard(dashboard) {\r\n    if (this.activeDashboard.name === dashboard.name) {\r\n      this.activeDashboard = this.dashboards[0];\r\n      this.dashboards[0].selected = true;\r\n      this.items = this.activeDashboard.items;\r\n    }\r\n    this.dashboards = this.dashboards.filter(d => d.name !== dashboard.name);\r\n    this.store('vi-dashboards', this.dashboards);\r\n  }\r\n\r\n  validate(event: ResizeEvent): boolean {\r\n    const MIN_DIMENSIONS_PX = 50;\r\n    if (\r\n      event.rectangle.width &&\r\n      event.rectangle.height &&\r\n      (event.rectangle.width < MIN_DIMENSIONS_PX ||\r\n        event.rectangle.height < MIN_DIMENSIONS_PX)\r\n    ) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  onResizeEnd(event: ResizeEvent, item): void {\r\n    const style = {\r\n      width: `${event.rectangle.width}px`,\r\n      height: `${event.rectangle.height}px`\r\n    };\r\n    item.style = item.style || {};\r\n    item.style = Object.assign(item.style, style);\r\n\r\n    window.setTimeout(function () {\r\n      window.dispatchEvent(new Event('resize'));\r\n    }, 0);\r\n\r\n    this.store('vi-dashboards', this.dashboards);\r\n  }\r\n\r\n  stop(event, item) {\r\n    const e = event.source.element.nativeElement;\r\n    const rect = e.getBoundingClientRect();\r\n    // console.log(e.style.transform);\r\n    item.style = {\r\n      width: `${rect.width}px`,\r\n      height: `${rect.height}px`,\r\n      transform: e.style.transform\r\n    };\r\n\r\n    this.store('vi-dashboards', this.dashboards);\r\n  }\r\n\r\n  @HostListener('document:click', ['$event'])\r\n  clickout(event) {\r\n    const tag = event.target.tagName;\r\n\r\n    // console.log(tag);\r\n\r\n    if (!['INPUT', 'A'].includes(tag)) {\r\n      this.showChoices = false;\r\n    }\r\n\r\n    // check if clicked on the active item\r\n    let activeItem = event.target.closest('.chart-container.active');\r\n    if (activeItem === null) {\r\n      activeItem = event.target.closest('.card-container.active');\r\n    }\r\n    if (activeItem === null) {\r\n      // console.log('clearing');\r\n      const classes = event.target.className;\r\n      if (classes.includes === undefined || !classes.includes('choice')) {\r\n        this.clearActive();\r\n        this.choice = '';\r\n        for (const i of this.items) {\r\n          i.active = '';\r\n          if (i.style !== undefined) {\r\n            delete i.style.opacity;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onInput($event) {\r\n    this.clearActive();\r\n    const val = $event.target.value;\r\n    this.showChoices = val !== '';\r\n    if (this.showChoices) {\r\n      if (val === '*') {\r\n        this.filtered = this.queries;\r\n        return;\r\n      }\r\n      this.filtered = this.queries.filter(q => q.name.toLowerCase().includes(val));\r\n    } else {\r\n      this.filtered = this.queries;\r\n    }\r\n  }\r\n\r\n  focus($event) {\r\n    $event.target.select();\r\n    this.onInput($event);\r\n  }\r\n\r\n  onSelect(query) {\r\n    this.active.query = query;\r\n    this.selectedQuery = query;\r\n    this.showChoices = false;\r\n    this.choice = query.name;\r\n    this.data = [];\r\n    for (const i of this.items) {\r\n      if (i.style !== undefined) {\r\n        i.style.opacity = '0.2';\r\n      }\r\n    }\r\n    this.viewService.fetch(query).subscribe(data => {\r\n      this.data = data;\r\n      this.active.data = data;\r\n      this.active.loaded = true;\r\n    });\r\n    // this.xAxisLabel = query.alias || query.group;\r\n  }\r\n\r\n  private clearActive() {\r\n    this.data = [];\r\n    this.active = {pin: {on: false, style: '', class: ''}, query: {}};\r\n    this.selectedQuery = {};\r\n  }\r\n\r\n  private store(key, value) {\r\n    const clone = JSON.parse(JSON.stringify(value));\r\n    for (const dashboard of clone) {\r\n      for (const item of dashboard.items) {\r\n        item.data = [{}];\r\n        item.loaded = false;\r\n      }\r\n    }\r\n    window.localStorage.setItem(key, JSON.stringify(clone));\r\n  }\r\n\r\n  private fromStore(key) {\r\n    const value = window.localStorage.getItem(key);\r\n    if (value !== null && value !== undefined) {\r\n      return JSON.parse(value);\r\n    } else {\r\n      return undefined;\r\n    }\r\n  }\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { map, flatMap } from 'rxjs/operators';\r\nimport { SolrService } from '../services/solr.service';\r\nimport { Transformer } from '../services/transformer.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ViewService {\r\n\r\n  constructor(private http: HttpClient, private solr: SolrService, private transformer: Transformer) { }\r\n\r\n  change() {\r\n    return this.solr.change;\r\n  }\r\n\r\n  fetch(query) {\r\n    if (query.aggregate !== undefined && query.aggregate === 'unique') {\r\n      return this.solr.fetchUnique(query.group, query.filters).pipe(\r\n        map(r => [{name: query.group + 's', value: r}])\r\n      );\r\n    } else if (query.type === 'series') {\r\n      return this.fetchRange(query.action, query.filters, query.unit, query.size, query.gap, query.minCount);\r\n    } else if (query.count) {\r\n      return this.fetchCount(query);\r\n    } else if (query.group === 'id') {\r\n      return this.fetchAndJoin(query);\r\n    } else {\r\n      const url = this.getSolrCall(query);\r\n      return this.http.get<any>(url).pipe(\r\n        map( res => {\r\n          const limit = query.aggregate === undefined ? 9 : 9999999999;\r\n          let data = this.getFacets(res, query, limit);\r\n          if (query.aggregate !== undefined) {\r\n            if (query.aggregate === 'count') {\r\n              const count = data.length;\r\n              data = [{name: query.group + 's', value: count}];\r\n            }\r\n          }\r\n          return data;\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  fetchCount(query) {\r\n    const url = this.getSolrCall(query);\r\n    return this.http.get<any>(url).pipe(\r\n      map( res => [{name: '', value: res.response.numFound}])\r\n    );\r\n  }\r\n\r\n  fetchAndJoin(query) {\r\n    const url = this.getSolrCall(query);\r\n    return this.http.get<any>(url).pipe(\r\n      flatMap( res => {\r\n        const limit = query.aggregate === undefined ? 9 : 9999999999;\r\n        const data = this.getFacets(res, query, limit);\r\n        return this.join(data);\r\n      })\r\n    );\r\n  }\r\n\r\n  fetchQueries() {\r\n    const url = './assets/queries.json';\r\n    return this.http.get<any>(url);\r\n  }\r\n\r\n  fetchRange(field, filters, unit, size, gap, mincount) {\r\n    const noop = (item => item);\r\n    return this.solr.fetchTimeSeries(mincount, size, unit, gap, filters).pipe(\r\n      // map(r => this.transformer.facetsToD3SeriesBySubfield(r, field, {}, noop, noop))\r\n      map(r => this.transformer.facetsToD3Series(r, field, {}))\r\n    );\r\n  }\r\n\r\n  private getSolrCall(query) {\r\n    let url = this.solr.analyticsEndpoint + 'rows=0';\r\n\r\n    if (query.group !== undefined) {\r\n      url += '&facet=true&facet.field=' + query.group;\r\n    }\r\n    if (query.action !== undefined) {\r\n      url += '&fq=action:' + query.action;\r\n    }\r\n    if (query.minCount) {\r\n      url += '&facet.mincount=' + query.minCount;\r\n    }\r\n    if (query.limit) {\r\n      url += '&facet.limit=' + query.limit;\r\n    }\r\n    if (query.filters !== undefined) {\r\n      for (const f of query.filters) {\r\n        url += '&fq=' + f;\r\n      }\r\n    }\r\n    return url;\r\n  }\r\n\r\n  // join analytics index to v0\r\n  private join(data) {\r\n    const ids = data.map(d => d.name);\r\n    const fq = 'fq=id:(' + ids.join(' ') + ')';\r\n    const url = this.solr.endpoint;\r\n    const api = url.replace('$index', 'v0') + fq;\r\n    return this.http.get<any>(api).pipe(\r\n      map(r => {\r\n        // console.log(r.response.docs);\r\n        for (const item of data) {\r\n          item.doc = r.response.docs.find(d => d.id === item.name);\r\n          if (item.doc !== undefined) {\r\n            item.name = item.doc.title;\r\n          } else {\r\n            // item.name = 'Removed';\r\n            item.removed = true;\r\n          }\r\n        }\r\n        data = data.filter(d => !d.removed);\r\n        // this.data = data;\r\n        return data;\r\n      })\r\n    );\r\n  }\r\n\r\n  private getFacets(response, query, limit) {\r\n    const facets = response.facet_counts.facet_fields[query.group];\r\n    // console.log(facets);\r\n    const facet = {name: '', value: ''};\r\n    const data = [];\r\n    for (let i = 0; i < facets.length; i++) {\r\n      if (this.isEven(i)) {\r\n        facet.name = decodeURIComponent(facets[i]);\r\n      } else {\r\n        facet.value = facets[i];\r\n        if (facet.name !== '{! place.op' && facet.name !== '*:*') {\r\n          if (facet.name.includes('}')) {\r\n            facet.name = facet.name.substring(facet.name.indexOf('}') + 1, facet.name.length);\r\n          }\r\n          data.push(JSON.parse(JSON.stringify(facet)));\r\n        }\r\n      }\r\n      if (i > limit) {\r\n        break;\r\n      }\r\n    }\r\n    return data;\r\n  }\r\n\r\n  isEven(n) {\r\n    return n % 2 === 0;\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * In development mode, for easier debugging, you can ignore zone related error\r\n * stack frames such as `zone.run`/`zoneDelegate.invokeTask` by importing the\r\n * below file. Don't forget to comment it out in production mode\r\n * because it will have a performance impact when errors are thrown\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n"],"sourceRoot":""}